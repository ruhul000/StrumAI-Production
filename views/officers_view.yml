version: 1
type: view
name: officers
model_name: strum_platform_model
sql_table_name: dbo.Officers
default_date: dataperiod
identifiers:
- name: officer_id
  type: primary
  sql: concat(${officerid},${data_period_raw})
- name: deptid
  type: foreign
  sql: ${deptid}
fields:
- name: officerid
  field_type: dimension
  type: number
  hidden: false
  primary_key: true
  label: Officer ID
  description: ''
  sql: ${TABLE}."officerid"
  searchable: false

- name: deptid
  field_type: dimension
  type: number
  hidden: true
  primary_key: false
  description: ''
  sql: ${TABLE}."deptid"
  searchable: false

- name: offlname
  field_type: dimension
  type: string
  label: Officer Name
  sql: ${TABLE}."offlname"
  searchable: true

- name: offsname
  field_type: dimension
  type: string
  hidden: true
  primary_key: false
  description: ''
  sql: ${TABLE}."offsname"
  searchable: false

- name: iscurrentemployee
  field_type: dimension
  type: yesno
  hidden: true
  primary_key: false
  description: ''
  sql: ${TABLE}."IsCurrentEmployee"
  searchable: false

- name: dataperiod
  field_type: dimension_group
  type: time
  datatype: date
  hidden: true
  description: ''
  timeframes:
  - raw
  - date
  - day_of_year
  - month
  - month_of_year
  - year
  sql: ${TABLE}."DataPeriod"

- name: startdate
  field_type: dimension_group
  type: time
  datatype: date
  hidden: true
  description: ''
  timeframes:
  - raw
  - date
  - day_of_year
  - week
  - week_of_year
  - month
  - month_of_year
  - quarter
  - year
  sql: ${TABLE}."StartDate"

- name: enddate
  field_type: dimension_group
  type: time
  datatype: date
  hidden: true
  description: ''
  timeframes:
  - raw
  - date
  - day_of_year
  - week
  - week_of_year
  - month
  - month_of_year
  - quarter
  - year
  sql: ${TABLE}."EndDate"

- name: data_period
  field_type: dimension_group
  type: time
  datatype: date
  description: >-
    This is the period of the snapshot, and it is always the date of the end
    of the month
  timeframes:
  - raw
  - date
  - month
  sql: ${TABLE}.DataPeriod
